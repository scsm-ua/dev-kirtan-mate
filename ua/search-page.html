<!doctype html>

<html lang="en">
<head>
    
        <title>Search Page | Kirtan Mate</title>
        <link rel="canonical" href="/ua/search-page.html" />
        <meta name="description" content="Search Page" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <meta property="og:title" content="Search Page" />
        <meta property="og:description" content="Search Page" />
        <meta property="og:url" content="/ua/search-page.html" />
        <meta property="og:locale" content="ua_UA" />
        <meta property="og:type" content="website" />
        <meta property="og:site_name" content="Kirtan Mate" />
        <meta property="og:image" content="https://dev.kirtan.site/images/sharing-banner.png" />
        <meta property="og:image:width" content="648" />
        <meta property="og:image:height" content="488" />
        <meta property="og:image:type" content="image/png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:image" content="https://dev.kirtan.site/images/sharing-banner.png" />
        <meta name="twitter:title" content="Search Page" />
        <meta name="twitter:description" content="Search Page" />

        <script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://dev.kirtan.site/#website","url":"https://dev.kirtan.site/","name":"Kirtan Mate","description":"Вайшнавські пісні","inLanguage":"ua-UA"},{"@type":"CollectionPage","@id":"/ua/search-page.html","url":"/ua/search-page.html","name":"Search Page","isPartOf":{"@id":"https://dev.kirtan.site/#website"}}]}</script>
    

    <link rel="stylesheet" href="https://dev.kirtan.site/css/index.css" />
    <link rel="stylesheet" href="https://dev.kirtan.site/css/search-page.css" />
</head>

<body>
    <div class="Layout">
        <div class="Layout__content">
            <header class="Header">
    <link
        rel="stylesheet"
        href="https://dev.kirtan.site/css/partials/header.css"
    />

    <div class="Header__container">
        <div class="Header__content">
            <a href="https://dev.kirtan.site" class="Header__home">
                <img
                    alt="Home"
                    class="Header__logo"
                    src="https://dev.kirtan.site/css/svg/kirtan-site.svg"
                />
            </a>
<!--            -->
        </div>
    </div>
</header>


            <main class="Main SearchPage">
                <div class="Main__container SearchPage__container">
                    <header class="SearchPage__header">
                        <div class="SearchPage__search">
                            <input
                                    autofocus
                                    class="SearchPage__input"
                                    id="search-input"
                                    placeholder="Find a song"
                                    type="text"
                            >

                            <button class="NoBorderButton SearchPage__clear" id="clear-button">
                                <span class="icon-xmark-large"></span>
                            </button>
                        </div>

                        <button class="RoundButton RoundButton--dark SearchPage__submit" id="submit-button">
                            <span class="icon-search"></span>
                        </button>
                    </header>

                    <div class="SearchPage__content">
                        <div class="SearchPage__nothing" id="nothing-found-div">
                            Nothing has been found.
                        </div>

                        <ul class="SearchPage__results" id="result-list"></ul>

                        <div class="SearchPage__more" id="show-more-button">
                            <button class="RoundButton RoundButton--dark">Load more</button>
                        </div>

                        <ul class="SearchPage__pages visible" id="page-list">
                            <li class="SearchPage__pills">
                                
                                    <a class="SearchPage__pill" href="shri-krishna-chaitanya-prabhu-nityananda.html" title="Паньча-таттва мантра">
                                        <button class="SearchPage__page">
                                            24
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="hare-krishna-hare-krishna-krishna-krishna-hare-hare.html" title="Харе Кришна маха̄-мантра">
                                        <button class="SearchPage__page">
                                            24
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="jaya-jaya-girirajer-arati-vishiala.html" title="Шрī Ґовінда Кунда Ґупта-Ґовардган А̄раті">
                                        <button class="SearchPage__page">
                                            32
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="kali-kukkura-kadana-jadi-chao-he.html" title="Прабга̄ті Ґīті">
                                        <button class="SearchPage__page">
                                            38
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="jiv-jago-jiv-jago-gaurachanda-bole.html" title="Арунодоя-кīртан">
                                        <button class="SearchPage__page">
                                            43
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="samsara-davanala-lidha-loka.html" title="Шрī Шрī Ґурва̄штака">
                                        <button class="SearchPage__page">
                                            48
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="shri-krishna-chaitanya-prabhu-jive-daya-kori.html" title="Шярана̄ґаті. Благодатне звернення">
                                        <button class="SearchPage__page">
                                            50
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="hari-haraye-namah-krishna-yadavaya-namah.html" title="На̄м-санкīртан">
                                        <button class="SearchPage__page">
                                            55
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="jaya-shiachinandana-sura-muni-vandana.html" title="Шрī Шячīнандана-вандана̄">
                                        <button class="SearchPage__page">
                                            61
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="jaya-jaya-gaurachander-arotiko-shobha.html" title="Шрī Ґаура-а̄раті">
                                        <button class="SearchPage__page">
                                            64
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="jayare-jayare-jaya-gaura-sarasvati.html" title="Шрī Са̄расват-а̄раті">
                                        <button class="SearchPage__page">
                                            66
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="gurudeva-kripa-bindu-diya-kara-ei-dase.html" title="Ґурудева">
                                        <button class="SearchPage__page">
                                            68
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="namo-namah-tulasi-maharani.html" title="Шрī Туласī-парікрама̄-ґīті">
                                        <button class="SearchPage__page">
                                            69
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="jaya-jaya-gurudever-arati-ujjvala.html" title="Шрī Ґуру А̄раті">
                                        <button class="SearchPage__page">
                                            70
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="shri-guru-charana-padma-kevala-bhakati.html" title="Шрī Ґуру-вайшнава Ма̄ха̄тмʼя-ґīті">
                                        <button class="SearchPage__page">
                                            74
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="nadiya-godrume-nityananda-mahajana.html" title="А̄ґʼя-Тахал">
                                        <button class="SearchPage__page">
                                            110
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="akrodha-paramananda.html" title="Акродга парама̄нанда">
                                        <button class="SearchPage__page">
                                            114
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="avatara-sara-gora-avatara.html" title="Авата̄ра Са̄ра">
                                        <button class="SearchPage__page">
                                            121
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="gay-gora-madhur-svare.html" title="Шрī На̄ма">
                                        <button class="SearchPage__page">
                                            122
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="bhajahu-re-mana-shri-nanda-nandana.html" title="Бгаджаху Ре Мана">
                                        <button class="SearchPage__page">
                                            146
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="emona-durmati-samsara-bhitore.html" title="Дайньятміка̄">
                                        <button class="SearchPage__page">
                                            154
                                        </button>
                                    </a>
                                
                                    <a class="SearchPage__pill" href="amara-jivana-sada-pape-rata.html" title="А̄ма̄ра джīвана">
                                        <button class="SearchPage__page">
                                            161
                                        </button>
                                    </a>
                                
                            </li>
                        </ul>
                    </div>
                </div>
            </main>
        </div>

        <link rel="stylesheet" href="https://dev.kirtan.site/css/partials/footer.css" />

<footer class="Footer">
    <div class="Footer__container">
        <div class="Footer__content">
            <a
                    class="Footer__item"
                    href="/"
                    id="footer-link-books"
            >
                <div class="Footer__icon Footer__icon--regular icon-books"></div>
                <div class="Footer__icon Footer__icon--active icon-books-bold"></div>
                <h6 class="Footer__label">Books</h6>
            </a>

            <a
                    class="Footer__item"
                    href="https://dev.kirtan.site/ua"
                    id="footer-link-contents"
            >
                <div class="Footer__icon Footer__icon--regular icon-list-music"></div>
                <div class="Footer__icon Footer__icon--active icon-list-music-bold"></div>
                <h6 class="Footer__label">Contents</h6>
            </a>

            <a
                    class="Footer__item"
                    href="https://dev.kirtan.site/ua/index-a-z-page.html"
                    id="footer-link-index-list"
            >
                <div class="Footer__icon Footer__icon--regular icon-arrow-up-a-z"></div>
                <div class="Footer__icon Footer__icon--active icon-arrow-up-a-z-old"></div>
                <h6 class="Footer__label">Index</h6>
            </a>

            <a
                    class="Footer__item"
                    href="/ua/search-page.html"
                    id="footer-link-search"
            >
                <div class="Footer__icon Footer__icon--regular icon-search"></div>
                <div class="Footer__icon Footer__icon--active icon-search-bold"></div>
                <h6 class="Footer__label">Search</h6>
            </a>
        </div>
    </div>
</footer>

<script>
    (function() {
        function setActive(elem) {
            elem.classList.add('Footer__item--active');
        }

        function areEqual(pathname, url) {
            return !url || url.startsWith('/')
                ? pathname === url
                : pathname === new URL(url).pathname;
        }

        const pathname = location.pathname.endsWith('/')
            ? location.pathname.slice(0, -1)
            : location.pathname;

        if (location.pathname === '/') {
            setActive(document.getElementById('footer-link-books'));
        } else if (areEqual(pathname, 'https://dev.kirtan.site/ua')) {
            setActive(document.getElementById('footer-link-contents'));
        } else if (areEqual(pathname, 'https://dev.kirtan.site/ua/index-a-z-page.html')) {
            setActive(document.getElementById('footer-link-index-list'));
        } else if (areEqual(pathname, '/ua/search-page.html')) {
            setActive(document.getElementById('footer-link-search'));
        }
    })()
</script>

    </div>

    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZRQ94TXNJE"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZRQ94TXNJE');
</script>


    <script>
        (function () {
            let page = 1;
            let results = [];

            const clearButton = document.getElementById('clear-button');
            const input = document.getElementById('search-input');
            const nothingFound = document.getElementById('nothing-found-div');
            const pageList = document.getElementById('page-list');
            const resultList = document.getElementById('result-list');
            const showMoreButton = document.getElementById('show-more-button');
            const submitButton = document.getElementById('submit-button');

            showMoreButton.addEventListener('click', () => start());
            submitButton.addEventListener('click', () => start());
            clearButton.addEventListener('click', () => {
                reset();
                input.value = '';
            });

            input.addEventListener('keydown', (e) =>
                (e.key === 'Enter' || e.keyCode === 13) && start()
            );

            /**/
            function find() {
                if (!input.value) return;

                const start = (page - 1) * 10 + 1;
                const url = 'https://www.googleapis.com/customsearch/v1' +
                    '?key=AIzaSyCt4jPTSY3LKh14RrS7SmQPfguyhQ_y2vU' +
                    '&cx=f0691c438c8d24df4' +
                    `&start=${start}` +
                    `&q=${input.value}`;

                return fetch(url, {
                    headers: { 'Content-Type': 'application/json' }
                })
                    .then((r) => r.json())
                    .then((r) => {
                        console.log(r);
                        return r;
                    })
                    .then(({ items, searchInformation }) => ({
                        items: items, /* Array<{ htmlFormattedUrl, htmlSnippet, htmlTitle, link }> */
                        itemsTotal: parseInt(searchInformation.totalResults)
                    }))
                    .catch(console.error)
            }

            /**/
            function start() {
                page === 1 && reset(); // hideShowMore, clearTheList, showPages, hideNothingFound, clearResults.

                find()
                    .then(({ items, itemsTotal }) => {
                        if (!items || itemsTotal === 0) {
                            page === 1 ? displayElem(nothingFound, true) : displayElem(showMoreButton, false);
                        } else {
                            results = [...results, ...items];
                            displayElem(pageList, false);
                            insertItems(items);
                            displayElem(resultList, true);

                            if (results.length < itemsTotal) {
                                page += 1;
                                displayElem(showMoreButton, true);
                            } else displayElem(showMoreButton, false);
                        }
                    })
            }

            /**/
            function displayElem(elem, shouldShow) {
                if (!elem) return;
                shouldShow ? elem.classList.add('visible') : elem.classList.remove('visible');
            }

            /**/
            function insertItems(items) {
                let content = '';

                items.forEach(({ htmlSnippet, htmlTitle, link }) => {
                    content += `
                        <li class="SearchPage__item">
                            <a class="SearchPage__itemLink" href="${link}">
                                <h5 class="SearchPage__itemTitle">
                                    ${htmlTitle}
                                </h5>
                                <div class="SearchPage__itemText">
                                    ${htmlSnippet}
                                </div>
                            </a>
                        </li>
                    `;
                });

                resultList.insertAdjacentHTML('beforeend', content);
            }

            /**/
            function reset() {
                results = [];
                resultList.innerHTML = '';
                displayElem(nothingFound, false);
                displayElem(pageList, true);
                displayElem(showMoreButton, false);
            }
        } ())
    </script>
</body>
</html>
